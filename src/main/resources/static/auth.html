<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- SEO base -->
    <title>ArcadeHub - Accedi / Registrati</title>
    <meta name="description"
        content="Accedi o registrati per salvare progressi, guadagnare XP e comparire in classifica su ArcadeHub." />

    <!-- NON indicizzare pagine di login -->
    <meta name="robots" content="noindex, nofollow" />

    <!-- Canonical + Social URL -->
    <link rel="canonical" href="https://arcadehub-jb2q.onrender.com/auth.html" />
    <meta property="og:url" content="https://arcadehub-jb2q.onrender.com/auth.html" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="ArcadeHub" />
    <meta property="og:title" content="ArcadeHub - Accedi / Registrati" />
    <meta property="og:description"
        content="Accedi o registrati per salvare progressi, guadagnare XP e comparire in classifica su ArcadeHub." />
    <meta property="og:image" content="https://arcadehub-jb2q.onrender.com/images/og/logo-ArcadeHub.png" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="835" />
    <meta property="og:image:height" content="835" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="ArcadeHub - Accedi / Registrati" />
    <meta name="twitter:description"
        content="Accedi o registrati per salvare progressi, guadagnare XP e comparire in classifica su ArcadeHub." />
    <meta name="twitter:image" content="https://arcadehub-jb2q.onrender.com/images/og/logo-ArcadeHub.png" />

    <!-- Icons / PWA -->
    <link rel="icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/assets/icons/icon-192.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <meta name="theme-color" content="#000000" />

    <!-- Styles -->
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/auth.css" />

    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Orbitron:wght@400..900&family=Press+Start+2P&display=swap"
        rel="stylesheet" />

    <!-- Scripts -->
    <script src="/js/api.js" defer></script>
    <script src="/js/auth.js" defer></script>
</head>


<body>
    <div class="layout">
        <div id="site-header"></div>

        <main class="main-login" role="main">
            <div class="auth" aria-label="Autenticazione">
                <!-- LOGIN -->
                <section id="login-section" aria-labelledby="auth-title">
                    <header class="auth-header">
                        <h1 id="auth-title" class="auth-title">Accedi</h1>
                        <p class="auth-subtitle">Entra in ArcadeHub e riprendi a giocare.</p>
                    </header>

                    <article class="card auth-card" aria-label="Form di login">
                        <div class="auth-alert" role="status" aria-live="polite" hidden></div>

                        <form id="login-form" class="form" method="post" novalidate autocomplete="off">
                            <!-- Username -->
                            <div class="form-group">
                                <label class="form-label" for="login-username">Username</label>
                                <input id="login-username" name="username" class="form-input" type="text"
                                    inputmode="text" autocomplete="username" required minlength="3"
                                    placeholder="Es. SkyLander99" />
                                <p class="form-hint">Usa lo username con cui ti sei registrato.</p>
                                <p class="form-error" data-error-for="login-username" hidden></p>
                            </div>

                            <!-- Password -->
                            <div class="form-group">
                                <label class="form-label" for="login-password">Password</label>

                                <div class="form-input-row">
                                    <input id="login-password" name="password" class="form-input" type="password"
                                        autocomplete="current-password" required minlength="6" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
                                    <button type="button" class="btn btn-ghost btn-icon" id="toggle-password"
                                        aria-label="Mostra o nascondi password" aria-pressed="false">
                                        üëÅÔ∏è
                                    </button>
                                </div>

                                <p class="form-error" data-error-for="login-password" hidden></p>
                            </div>

                            <!-- Azioni -->
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" id="login-submit">
                                    Accedi
                                </button>

                                <!-- (Opzionale) link recupero password se lo farete -->
                                <!-- <a class="link" href="#" aria-disabled="true">Password dimenticata?</a> -->
                            </div>

                            <!-- Micro-copy registrazione -->
                            <p class="auth-small">
                                Non sei ancora registrato?
                                <a href="#" class="link" id="show-register"
                                    aria-controls="register-section">Registrati</a>
                            </p>
                        </form>
                    </article>
                </section>


                <!-- REGISTRAZIONE -->
                <section id="register-section" aria-labelledby="register-title" hidden>
                    <header class="auth-header">
                        <h2 id="register-title" class="auth-title">Registrati</h2>
                        <p class="auth-subtitle">Crea il tuo profilo ArcadeHub in pochi secondi.</p>
                    </header>

                    <article class="card auth-card" aria-label="Form di registrazione">
                        <div class="auth-alert" role="status" aria-live="polite" hidden></div>

                        <form id="register-form" class="form" method="post" novalidate autocomplete="off">
                            <!-- Username -->
                            <div class="form-group">
                                <label class="form-label" for="reg-username">Username</label>
                                <input id="reg-username" name="username" class="form-input" type="text" inputmode="text"
                                    autocomplete="username" required minlength="3" maxlength="50"
                                    placeholder="Es. SkyLander99" />
                                <p class="form-hint">Max 50 caratteri. Deve essere unico.</p>
                                <p class="form-error" data-error-for="reg-username" hidden></p>
                            </div>

                            <!-- Email -->
                            <div class="form-group">
                                <label class="form-label" for="reg-email">Email</label>
                                <input id="reg-email" name="email" class="form-input" type="email" inputmode="email"
                                    autocomplete="email" required maxlength="255" placeholder="nome@email.com" />
                                <p class="form-hint">Deve essere un‚Äôemail valida e unica.</p>
                                <p class="form-error" data-error-for="reg-email" hidden></p>
                            </div>

                            <!-- Password -->
                            <div class="form-group">
                                <label class="form-label" for="reg-password">Password</label>

                                <div class="form-input-row">
                                    <input id="reg-password" name="password" class="form-input" type="password"
                                        autocomplete="new-password" required minlength="6" maxlength="72"
                                        placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
                                    <button type="button" class="btn btn-ghost btn-icon" id="toggle-reg-password"
                                        aria-label="Mostra o nascondi password" aria-pressed="false">
                                        üëÅÔ∏è
                                    </button>
                                </div>

                                <p class="form-hint">Min 6 caratteri. (Hashata lato backend)</p>
                                <p class="form-error" data-error-for="reg-password" hidden></p>
                            </div>

                            <!-- Avatar picker -->
                            <fieldset class="form-group" aria-describedby="avatar-help">
                                <legend class="form-label">Scegli il tuo avatar</legend>
                                <p id="avatar-help" class="form-hint">
                                    Per ora disponibili solo 2 avatar. Gli altri saranno sbloccabili pi√π avanti.
                                </p>

                                <div class="avatar-grid" role="radiogroup" aria-label="Selezione avatar"></div>


                                <p class="form-error" data-error-for="avatarId" hidden></p>
                            </fieldset>

                            <!-- Azioni -->
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" id="register-submit">
                                    Crea account
                                </button>

                                <p class="auth-small">
                                    Hai gi√† un account?
                                    <a href="#" class="link" id="show-login" aria-controls="login-section">Accedi</a>
                                </p>
                            </div>
                        </form>
                    </article>
                </section>
            </div>
        </main>
        <!-- Nota backend (solo dev) -->
        <!--
        Campi DB:
        - username VARCHAR(50) UNIQUE NOT NULL
        - email VARCHAR(255) UNIQUE NOT NULL
        - password_hash VARCHAR(255) NOT NULL (qui inviamo "password", hash in backend)
        - avatarId (consigliato: INT FK su tabella avatar, o ENUM/INT semplice)
      -->

        <div id="site-footer"></div>
    </div>

    <!-- Accessibilit√†: helper class da definire poi in CSS -->
    <!--
    .sr-only { ... }
  -->
    <script src="/js/partials.js"></script>
    <script src="/js/to-top.js"></script>
    <script src="/js/feedback.js"></script>
</body>